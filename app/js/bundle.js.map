{"version":3,"sources":["main.js","Services/authService.js","Services/finalTaskListService.js","Services/loadingScreenService.js","Services/projectService.js","Services/taskService.js","ProjectList/projectListCtrl.js","TaskList/taskListCtrl.js","TaskList/taskListDirective.js","toolBar/searchBar.js","toolBar/toolbarCtrl.js","toolBar/toolsMenu.js","User/userProfileCtrl.js","User/userProfileDirective.js"],"names":["app","angular","module","config","$mdThemingProvider","$httpProvider","customPrimary","definePalette","theme","primaryPalette","accentPalette","exports","service","$http","$cookies","session","getCurrentSession","getSession","Promise","resolve","reject","get","console","log","post","then","response","put","data","checkSession","string","url","method","withCredentials","params","status","fetchAccount","account","Account","err","sortByDateAsc","obj1","obj2","date","sortByDateDesc","formatDate","userDate","Date","yr","getFullYear","month","getMonth","day","getDate","newDate","getDayOfWeek","now","moment","myDate","isSame","add","formTaskList","tasks","days","key","length","Object","Task","created_at","push","flag","taskListKey","sort","i","dayOfWeek","format","title","show","$","addClass","removeClass","hide","projectList","createProject","Project","headers","editProject","id","currentProjectId","deleteProject","project_id","setCurrentProjectId","getCurrentProjectId","addProject","unshift","newObj","getProjects","getUserProjects","projects","map","object","addTask","currentProject","fetchTasks","projectId","paging_size","paging_offset","fetchTask","taskId","createTask","description","updateTask","deleteTask","task_id","controller","$scope","$rootScope","$mdDialog","projectService","authService","loadingScreenService","setProjects","customFullscreen","newTitle","$on","event","result","$apply","undefined","target","projectListElements","document","getElementsByClassName","element","parent","$broadcast","showAddProjectDialog","ev","confirm","prompt","clickOutsideToClose","textContent","placeholder","ariaLabel","initialValue","targetEvent","ok","cancel","taskService","finalTaskListService","myTask","finalTaskList","setTaskList","currentSession","project","setCurrentProject","getCurrentProject","formListForShow","task","showAddTaskDialog","DialogController","templateUrl","body","fullscreen","text","answer","directive","restrict","scope","link","attrs","searchButton","searchBar","active","clickPermission","activateDisactivateSearchBar","setTimeout","preventDefault","find","focus","val","on","focusout","newProjectTitle","showEditProjectDialog","confirmDelete","showDeleteProjectDialog","tButton","getElementById","dMenu","toolsButton","dropMenu","attr","children","setAccount"],"mappings":"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","file":"bundle.js","sourcesContent":["var app = angular.module('ProjectManagerApp', ['ngMaterial', 'ngMessages', 'ngCookies']);\r\n\r\napp.config(function ($mdThemingProvider, $httpProvider) {\r\n\r\n   var customPrimary = {\r\n        '50': '#b6b6cd',\r\n        '100': '#a7a7c3',\r\n        '200': '#9898b8',\r\n        '300': '#8989ae',\r\n        '400': '#7a7aa3',\r\n        '500': '#6b6b99',\r\n        '600': '#60608b',\r\n        '700': '#55557c',\r\n        '800': '#4b4b6d',\r\n        '900': '#40405e',\r\n        'A100': '#c6c6d7',\r\n        'A200': '#d5d5e2',\r\n        'A400': '#e4e4ec',\r\n        'A700': '#36364e'\r\n    };\r\n    $mdThemingProvider.definePalette('customPrimary', customPrimary);\r\n\r\n    $mdThemingProvider.theme('default')\r\n      .primaryPalette('customPrimary')\r\n      .accentPalette('green');\r\n\r\n  // $httpProvider.defaults.useXDomain = true;\r\n  // $httpProvider.defaults.withCredentials = true;\r\n  // delete $httpProvider.defaults.headers.common[\"X-Requested-With\"];\r\n  // $httpProvider.defaults.headers.common[\"Accept\"] = \"application/json\";\r\n  // $httpProvider.defaults.headers.common[\"Content-Type\"] = \"application/json\";\r\n\r\n  });\r\n\r\nmodule.exports = app;","import app from './modules/main'\r\n\r\napp.service('authService', function($http, $cookies) {\r\n\r\n\tvar session = \"\";\r\n\r\n\tvar getCurrentSession = function () {\r\n\t\treturn session;\r\n\t};\r\n\r\n\t\r\n\tvar getSession = function () {\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\tsession = $cookies.get('session');\r\n\t\t\tif(session)\r\n\t\t\t{\r\n\t\t\t\tconsole.log('Nice Cookies!');\r\n\t\t\t\tconsole.log(session);\r\n\t\t\t\tresolve(session);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$http.post('https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/signup')\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t        \t$cookies.put('session', response.data.session);\r\n\t\t        \tsession = response.data.session;\r\n\t\t        \tresolve(session);\r\n\t\t    \t\t})\r\n\t\t    \t\t.then(function(){\r\n\t\t    \t\t\tconsole.log('Failed to get session');\r\n\t\t    \t\t\treject('Failed to get session');\r\n\t\t    \t\t});\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tvar checkSession = function (session) {\r\n\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\tvar string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/session';\r\n\t\t\t$http({\r\n\t\t\t\turl: string,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\twithCredentials: false,\r\n\t\t\t\tparams: {session: session}\r\n\t\t\t})\t\t\t\t\r\n\t\t\t.then(function(response){\r\n\t\t\t\tconsole.log('check result', response)\r\n\t\t\t\tif (response.status == 200) \r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log('Session passed Checking');\r\n\t\t\t\t\tresolve(session);\r\n\t\t\t\t}\r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log('Session check failed');\r\n\t\t\t\t\treject('Session check failed');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tvar fetchAccount = function(session) {\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\tconsole.log('session', session)\r\n\t\t\tvar account = {};\r\n\t\t\tvar string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/account';\r\n\t\t\t$http({\r\n\t\t\t\turl: string,\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tparams: {session: session}\r\n\t\t\t}).then(function(response){\r\n\t\t\t\taccount = response.data.Account;\r\n\t\t\t\tresolve(account);\r\n\t\t\t},function(err){\r\n\t\t\t\tconsole.log(\"Failed to fetch an account\")\r\n\t\t\t\treject(err);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t};  \r\n\t\r\n\r\n\treturn {\r\n\t\tgetSession: getSession,\r\n\t\tgetCurrentSession: getCurrentSession,\r\n\t\tcheckSession: checkSession,\r\n\t\tfetchAccount: fetchAccount\r\n\r\n\t};\r\n});","import app from './modules/main'\r\n\r\napp.service('finalTaskListService', function() {\r\n\r\n\r\n  var sortByDateAsc = function (obj1, obj2) {\r\n\r\n    if (obj1.date > obj2.date) return 1;\r\n    if (obj1.date < obj2.date) return -1;\r\n    return 0;\r\n\r\n  };\r\n\r\n  var sortByDateDesc = function (obj1, obj2) {\r\n\r\n    if (obj1.date > obj2.date) return -1;\r\n    if (obj1.date < obj2.date) return 1;\r\n    return 0;\r\n\r\n  };\r\n  var formatDate = function (userDate) {\r\n    var date    = new Date(userDate),\r\n    yr      = date.getFullYear(),\r\n    month   = date.getMonth() < 10 ? '0' + date.getMonth() : date.getMonth(),\r\n    day     = date.getDate()  < 10 ? '0' + date.getDate()  : date.getDate(),\r\n    newDate = day + '.' + month + '.' + yr;\r\n    return newDate;\r\n  };\r\n\r\n  var getDayOfWeek = function (date) {\r\n    var string = \"\";\r\n    var now = moment();\r\n    var myDate = moment(date,\"YYYY-DD-MM +-HH:mm:ss\");\r\n\r\n    if (myDate.isSame(now,'day'))\r\n    {\r\n      string = \"Today\";\r\n      return string;\r\n    }\r\n    if (myDate.isSame(now.add(1, 'days'),'day'))\r\n    {\r\n      string = \"Tomorrow\";\r\n      return string;\r\n    }\r\n\r\n    var day = myDate.day();\r\n\r\n\r\n    switch (day) {\r\n      case 0:\r\n      string = \"Sunday\";\r\n      break;\r\n      case 1:\r\n      string = \"Monday\";\r\n      break;\r\n      case 2:\r\n      string = \"Tuesday\";\r\n      break;\r\n      case 3:\r\n      string = \"Wednesday\";\r\n      break;\r\n      case 4:\r\n      string = \"Thursday\";\r\n      break;\r\n      case 5:\r\n      string = \"Friday\";\r\n      break;\r\n      case 6:\r\n      string = \"Saturday\";\r\n      break;\r\n      default:\r\n      string = 'Потом' ;\r\n    }\r\n    return string;\r\n\r\n  };\r\n\r\n  // var finalTaskList = [];\r\n  var formTaskList = function (tasks) { // sorting based on date\r\n    \r\n    var days = [];\r\n    console.log('formTaskList');\r\n\r\n    for (var key = 0; key<tasks.length; key++) \r\n    {\r\n\r\n      if (days.length<1)\r\n      {\r\n        var day = new Object();\r\n        day.date = tasks[key].Task.created_at;\r\n        day.tasks = [tasks[key].Task];\r\n        days.push(day);\r\n      }\r\n      else\r\n      {\r\n        var flag = false;\r\n        for (var taskListKey = 0; taskListKey<days.length; taskListKey++)\r\n        {\r\n          if(moment(days[taskListKey].date).isSame(moment(tasks[key].Task.created_at),'day'))\r\n          {\r\n            days[taskListKey].tasks.push(tasks[key].Task);\r\n            flag = true;\r\n          }\r\n        }\r\n        if(flag)\r\n        {\r\n          continue;\r\n        }\r\n        var day = new Object();\r\n        day.date = tasks[key].Task.created_at;\r\n        day.tasks = [tasks[key].Task];\r\n\r\n        days.push(day);\r\n\r\n      }\r\n    }\r\n    days.sort(sortByDateAsc);\r\n    for (var i = 0; i < days.length; i++)\r\n    {\r\n      days[i].dayOfWeek = getDayOfWeek(days[i].date);\r\n      days[i].date = moment(days[i].date,\"YYYY-DD-MM +-HH:mm:ss\").format(\"DD.MM.YYYY\");\r\n    }\r\n\r\n      // finalTaskList = taskList;\r\n      if(days[0])\r\n      console.log(\"final list\", days[0].tasks[0].title);\r\n      return days;\r\n\r\n    };\r\n\r\n    return {\r\n      formTaskList: formTaskList\r\n    };\r\n  } )","import app from './modules/main'\r\n\r\napp.service('loadingScreenService', function() {\r\n\t\tvar show = function () {\r\n\t\t\t$('body').addClass('unscrollable');\r\n\t\t\t$('.loading-screen').removeClass('hidden');\r\n\t\t};\r\n\r\n\t\tvar hide = function () {\r\n\t\t\t$('body').removeClass('unscrollable');\r\n\t\t\t$('.loading-screen').addClass('hidden');\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tshow: show,\r\n\t\t\thide: hide\r\n\t\t}\r\n\t}\r\n)","import app from './modules/main'\r\n\r\napp.service('projectService', function($http) {\r\n\r\n  var projectList = [];\r\n\r\n  // var createProject = function (name)\r\n  // {\r\n  //   return{\r\n  //     name: name,\r\n  //     tasks: [],\r\n  //     tasksQuantity: 0,\r\n  //     tasksIdCount: 0  \r\n  //   };\r\n  // }\r\n\r\n  var createProject = function (session, title)\r\n  {\r\n    console.log(\"session:\", session, \"title:\", title);\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects/project';\r\n      $http({\r\n        url: string,\r\n        method: 'POST',\r\n        data: {session: session, Project: {title: title}},\r\n        headers: {'Content-Type': 'application/json'}\r\n      })        \r\n      .then(function(response){\r\n        console.log('check result', response)\r\n        if (response.status == 201) \r\n        {\r\n          console.log('Project created');\r\n          resolve(\"success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Project creation failed', response.status);\r\n          reject('Project creation failed');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  var editProject = function (session, title)\r\n  {\r\n    console.log(\"session:\", session, \"title:\", title);\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects/project';\r\n      $http({\r\n        url: string,\r\n        method: 'POST',\r\n        data: {session: session, Project: {id: currentProjectId, title: title}},\r\n        headers: {'Content-Type': 'application/json'}\r\n      })        \r\n      .then(function(response){\r\n        console.log('check result', response)\r\n        if (response.status == 200) \r\n        {\r\n          console.log('Project has been updated');\r\n          resolve(\"success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Project update failed', response.status);\r\n          reject('Project update failed');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n   var deleteProject = function (session)\r\n  {\r\n    console.log(\"Delete project:\", currentProjectId);\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects/project';\r\n      $http({\r\n        url: string,\r\n        method: 'DELETE',\r\n        params: {session: session, project_id: currentProjectId}\r\n      })        \r\n      .then(function(response){\r\n        console.log('check result', response)\r\n        if (response.status == 200) \r\n        {\r\n          console.log('Project has been deleted');\r\n          resolve(\"success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Project removal failed', response.status);\r\n          reject('Project removal failed');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  var currentProjectId = \"\";\r\n\r\n\r\n  var setCurrentProjectId = function (id)\r\n  {\r\n    currentProjectId = id;\r\n    console.log('currentProjectId: ', currentProjectId);\r\n  }\r\n\r\n  var getCurrentProjectId = function ()\r\n  {\r\n    return currentProjectId;\r\n  }\r\n\r\n  var addProject = function(title) {\r\n\r\n      projectList.unshift({newObj});\r\n  };\r\n\r\n  var getProjects = function(){\r\n      return projectList;\r\n  };\r\n\r\n  var getUserProjects = function (session) {\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects';\r\n      $http({\r\n        url: string,\r\n        method: \"GET\",\r\n        params: {session: session}\r\n      })        \r\n      .then(function(response){\r\n        console.log('Initial projects', response)\r\n        if (response.status == 200) \r\n        {\r\n          console.log('Projects fetched successfully');\r\n          projectList = response.data.projects.map(function (object) {\r\n            return object.Project;\r\n          });\r\n          resolve(\"Success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Projects fetching failed');\r\n          reject('Projects fetching');\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n\r\n  return {\r\n    getUserProjects: getUserProjects,\r\n    createProject: createProject,\r\n    editProject: editProject,\r\n    deleteProject: deleteProject,\r\n    addProject: addProject,\r\n    getProjects: getProjects,\r\n    setCurrentProjectId: setCurrentProjectId,\r\n    getCurrentProjectId: getCurrentProjectId\r\n\r\n\r\n  };\r\n\r\n});","import app from './modules/main'\r\n\r\napp.service('taskService', function($http) {\r\n\r\n  // delete $http.defaults.headers.common['X-Requested-With'];\r\n\r\n  var addTask = function(currentProject, newObj) {\r\n    currentProject.tasks.push(newObj);\r\n  };\r\n\r\n  var fetchTasks = function(session, projectId){\r\n    console.log(\"projectId\", projectId);\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks';\r\n        $http({\r\n          url: string,\r\n          method: \"GET\",\r\n          params: {session: session, project_id: projectId, paging_size: 20, paging_offset: 10}\r\n        })        \r\n        .then(function(response){\r\n          console.log('tasks for project', response.data.tasks)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Tasks Fetched', response.data);\r\n            resolve(response.data.tasks);\r\n          }\r\n          else \r\n          {\r\n            console.log('Tasks fetching failed');\r\n            reject('Tasks fetchingfailed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  var fetchTask = function(taskId, session){\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        $http({\r\n          url: string,\r\n          method: \"GET\",\r\n          params: {project_id: projectId, paging_size: 20, paging_offset: 10}\r\n        })        \r\n        .then(function(response){\r\n          console.log('Fetched task', response.data.Task)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Task Fetched');\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task Fetching failed');\r\n            reject('Task Fetching failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  var createTask = function(session, projectId, title, description){\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        console.log(session);\r\n      $http({\r\n        url: string,\r\n        method: 'POST',\r\n        data: {session: session, Project: {id: projectId}, Task: {title: title, description: description}},\r\n        headers: {'Content-Type': 'application/json'}\r\n      })       \r\n        .then(function(response){\r\n          console.log('Created task', response.data)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Task created',response.data);\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task creation failed');\r\n            reject('Task creation failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  var updateTask = function(session, taskId, title, description){\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        $http({\r\n          url: string,\r\n          method: \"POST\",\r\n          params: {Task: {id: taskId, title: title, description: description}},\r\n          headers: { 'Content-Type': 'application/json' }    \r\n        })        \r\n        .then(function(response){\r\n          console.log('Updated task', response.data)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Updated created');\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task update failed');\r\n            reject('Task update failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n   var deleteTask = function(session, taskId) {\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        $http({\r\n          url: string,\r\n          method: \"DELETE\",\r\n          params: {session: session, task_id: taskId},\r\n        })        \r\n        .then(function(response){\r\n          console.log('Updated task', response.data)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Updated created');\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task update failed');\r\n            reject('Task update failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  return {\r\n    fetchTasks: fetchTasks,\r\n    fetchTask: fetchTask,\r\n    createTask: createTask,\r\n    updateTask: updateTask,\r\n    deleteTask: deleteTask\r\n\r\n\r\n  };\r\n\r\n});","import app from './modules/main'\r\n\r\n// Project List\r\napp.controller('ProjectListCtrl', function($scope, $rootScope, $mdDialog, projectService, authService, loadingScreenService) {\r\n  // data\r\n  // $scope.projects = projectService.getProjects();\r\n\t$scope.projects = {\r\n    projects: [],\r\n    setProjects: function (projects) {\r\n      this.projects = projects;\r\n    }\r\n  };\r\n  $scope.status = '  ';\r\n  $scope.customFullscreen = false;\r\n  $scope.newTitle = \"\";\r\n\r\n  $scope.$on('getProjects', function (event) {\r\n    getProjects();\r\n  });\r\n\r\n   $scope.$on('editProject', function (event, newTitle) {\r\n    loadingScreenService.show();\r\n    projectService.editProject(authService.getCurrentSession(), newTitle)\r\n    .then(function (result) {\r\n      getProjects ();\r\n    });\r\n   });\r\n\r\n   $scope.$on('deleteProject', function (event) {\r\n    loadingScreenService.show();\r\n    projectService.deleteProject(authService.getCurrentSession())\r\n    .then(function (result) {\r\n      getProjects ();\r\n\r\n    });\r\n   });\r\n\r\n  function getProjects (){\r\n\r\n    projectService.getUserProjects(authService.getCurrentSession())\r\n    .then(function(result){\r\n\r\n      var projects = projectService.getProjects();\r\n\r\n      $scope.$apply(function () {\r\n\r\n      $scope.projects.setProjects(projects);\r\n      loadingScreenService.hide();\r\n      $scope.setCurrentProjectId(undefined, $scope.projects.projects[0].id);\r\n    });\r\n      console.log(\"new Projects\",$scope.projects.projects);\r\n      // $scope.$apply();\r\n    });\r\n\r\n  }\r\n  // Get projects\r\n  $scope.setCurrentProjectId = function (event, projectId) {\r\n    console.log(\"setCurrentProject\", projectId);\r\n    if(event)\r\n   {   \r\n       if(event.target)\r\n       {\r\n         var projectListElements = document.getElementsByClassName(\"current-project\");\r\n         angular.element(projectListElements).removeClass(\"current-project\");\r\n         angular.element(event.target).parent().addClass(\"current-project\");\r\n       }\r\n    }\r\n    projectService.setCurrentProjectId(projectId);\r\n    $rootScope.$broadcast('setTaskList', projectId);\r\n    // $rootScope.$broadcast('switchProject', project);\r\n  };\r\n// end fake data\r\n\r\n   $scope.showAddProjectDialog = function(ev) {\r\n    // Appending dialog to document.body to cover sidenav in docs app\r\n    var confirm = $mdDialog.prompt()\r\n      .clickOutsideToClose(true)\r\n      .title('What would you name your brand new project?')\r\n      .textContent('Bowser is a common name.')\r\n      .placeholder('Project name')\r\n      .ariaLabel('Project name')\r\n      .initialValue('Bowser')\r\n      .targetEvent(ev)\r\n      .ok('Okay!')\r\n      .cancel('Cancel');\r\n\r\n    $mdDialog.show(confirm).then(function(result) {\r\n      loadingScreenService.show();\r\n      projectService.createProject(authService.getCurrentSession(), result).then(function(result){\r\n\r\n        $rootScope.$broadcast('getProjects');\r\n      });\r\n    }, function() {\r\n      console.log(\"cancel\");\r\n      $scope.status = 'Adding new project canceled.';\r\n    });\r\n  };\r\n\r\n \r\n\r\n\r\n} );","import app from './modules/main'\r\n\r\napp.controller('TaskListCtrl', function($scope, $mdDialog, projectService, taskService, finalTaskListService, authService) {\r\n  $scope.myTask = {\r\n    title: \"\",\r\n    description: \"\"\r\n  }; \r\n  \r\n  // $scope.taskList = {};\r\n  // var currentProjectId = projectService.getCurrentProjectId();\r\n  $scope.finalTaskList = [];\r\n\r\n\r\n  $scope.$on('setTaskList', function (event, projectId) {\r\n     setTaskList(authService.getCurrentSession(), projectId);\r\n  })\r\n\r\n   function setTaskList (currentSession, projectId) {\r\n    taskService.fetchTasks(authService.getCurrentSession(), projectId).then(function(result){\r\n       console.log(result);\r\n    $scope.finalTaskList = finalTaskListService.formTaskList(result);\r\n    console.log($scope.finalTaskList);\r\n    $scope.$apply();\r\n    });\r\n\r\n   };\r\n   \r\n\r\n  $scope.$on('switchProject', function (event, project) {\r\n    projectService.setCurrentProject(project);\r\n    currentProject = projectService.getCurrentProject();\r\n    formListForShow();\r\n  });\r\n\r\n\r\n    function formListForShow ()\r\n    {\r\n      console.log(\"formListForShow\");\r\n       $scope.finalTaskList = finalTaskListService.formTaskList(currentProject);\r\n    }\r\n\r\n    // push task into current project\r\n    function addTask (task)\r\n    {\r\n      taskService.createTask(authService.getCurrentSession(),projectService.getCurrentProjectId(), task)\r\n      .then(function(result){\r\n        taskService.fetchTasks(authService.getCurrentSession(), projectService.getCurrentProjectId()).then(function(result){\r\n        $scope.finalTaskList = finalTaskListService.formTaskList(result);\r\n          });\r\n      });\r\n       \r\n    }\r\n\r\n    $scope.showAddTaskDialog = function(ev) {\r\n    $mdDialog.show({\r\n      controller: DialogController,\r\n      templateUrl: 'js/modules/TaskList/add.task.dialog.html',\r\n      parent: angular.element(document.body),\r\n      targetEvent: ev,\r\n      clickOutsideToClose:true,\r\n      fullscreen: $scope.customFullscreen \r\n    })\r\n    .then(function(date, text) {\r\n      $scope.status = 'You said the information was \"' + '\".';\r\n\r\n    }, function() {\r\n      $scope.status = 'You cancelled the dialog.';\r\n    });\r\n  };  \r\n\r\n    function DialogController($scope, $mdDialog, taskService, projectService) {\r\n    $scope.hide = function() {\r\n      $mdDialog.hide();\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n      $mdDialog.cancel();\r\n    };\r\n    $scope.answer = function(title, description) {\r\n\r\n       var task = {\r\n        title: title,\r\n        description: description\r\n      };\r\n      addTask(task);\r\n      $mdDialog.hide(\"answer\");\r\n\r\n    };\r\n  }\r\n\r\n} );\r\n","import app from './modules/main'\r\n\r\n// Task List\r\napp.directive('taskList', function () {\r\n    return {\r\n      restrict: 'EC',\r\n      templateUrl: './js/modules/TaskList/taskList.html',\r\n      scope: {\r\n        \t\r\n      },\r\n      controller: function ($scope) {\r\n      \r\n      }\r\n    }\r\n  });","import app from './modules/main'\r\n\r\n// Seach Bar\r\n  app.directive('searchBar', function() {\r\n    return {\r\n      restrict: 'E',\r\n      link: function(scope, element, attrs){\r\n\r\n        var searchButton = $(\"#search-button\");;\r\n        var searchBar = $(\"#search-bar\");\r\n        var active = false;\r\n        var clickPermission = true;\r\n\r\n        function activateDisactivateSearchBar() {\r\n          if (clickPermission)\r\n          {\r\n              clickPermission = false;\r\n              setTimeout(function () {\r\n                clickPermission = true;\r\n              },200);\r\n              event.preventDefault();\r\n              active = !active;\r\n            if(active)\r\n            {\r\n              searchBar.removeClass('not-active');\r\n              searchBar.addClass('active');\r\n              searchBar.find(\"input\").focus();\r\n             }\r\n            else\r\n            {\r\n              searchBar.addClass('not-active');\r\n              setTimeout(function () {\r\n              searchBar.removeClass('active');\r\n              searchBar.find(\"input\").val(\"\");\r\n              }, 200);\r\n            }\r\n          }\r\n          else {console.log(\"doubleClick\");}\r\n        }\r\n\r\n        searchButton.on('click', function () {\r\n          activateDisactivateSearchBar()\r\n        });\r\n\r\n         searchBar.focusout(function (event) {\r\n          activateDisactivateSearchBar()\r\n         });\r\n      }\r\n    };\r\n\r\n  });","import app from './modules/main'\r\n\r\n// Project List\r\napp.controller('toolbarCtrl', function($scope, $rootScope, $mdDialog) {\r\n\r\n\t$scope.newProjectTitle = \"\";\r\n\r\n\tvar editProject = function (newTitle) {\r\n\t\t$rootScope.$broadcast('editProject', newTitle);\r\n\t};\r\n\r\n\tvar deleteProject = function () {\r\n\t\tconsole.log(\"deleteProject\");\r\n\t\t$rootScope.$broadcast('deleteProject');\r\n\t};\r\n\r\n\t$scope.showEditProjectDialog = function(ev) {\r\n    $mdDialog.show({\r\n      controller: DialogController,\r\n      templateUrl: 'js/modules/ProjectList/edit.project.dialog.html',\r\n      parent: angular.element(document.body),\r\n      targetEvent: ev,\r\n      clickOutsideToClose:true,\r\n      fullscreen: $scope.customFullscreen \r\n    })\r\n    .then(function(date, text) {\r\n      $scope.status = 'You said the information was \"' + '\".';\r\n\r\n    }, function() {\r\n      $scope.status = 'You cancelled the dialog.';\r\n    });\r\n  };  \r\n\r\n    function DialogController($scope, $mdDialog) {\r\n    $scope.hide = function() {\r\n      $mdDialog.hide();\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n      $mdDialog.cancel();\r\n    };\r\n    $scope.answer = function(newTitle) {\r\n\r\n      editProject(newTitle);\r\n      $mdDialog.hide(\"answer\");\r\n\r\n    };\r\n\r\n    $scope.confirmDelete = function() {\r\n      deleteProject();\r\n      $mdDialog.hide(\"answer\");\r\n    };\r\n\r\n  }\r\n\r\n  $scope.showDeleteProjectDialog = function(ev) {\r\n    $mdDialog.show({\r\n      controller: DialogController,\r\n      templateUrl: 'js/modules/ProjectList/delete.project.dialog.html',\r\n      parent: angular.element(document.body),\r\n      targetEvent: ev,\r\n      clickOutsideToClose: true,\r\n      fullscreen: $scope.customFullscreen \r\n    })\r\n    .then(function(date, text) {\r\n      $scope.status = 'You said the information was \"' + '\".';\r\n\r\n    }, function() {\r\n      $scope.status = 'You cancelled the dialog.';\r\n    });\r\n  };\r\n\r\n  // $scope.showDeleteConfirm = function(ev) {\r\n  //   // Appending dialog to document.body to cover sidenav in docs app\r\n  //   var confirm = $mdDialog.confirm()\r\n  //         .title('You are trying to delete your project?')\r\n  //         .textContent('Your project will be comletely deleted.')\r\n  //         .ariaLabel('Delete project')\r\n  //         .targetEvent(ev)\r\n  //         .ok('Please do it!')\r\n  //         .cancel('No. Why would i do that?');\r\n\r\n  //   $mdDialog.show(confirm).then(function() {\r\n  //   \tdeleteProject();\r\n  //     $scope.status = 'You decided to get rid of your project.';\r\n  //   }, function() {\r\n  //     $scope.status = 'You decided to keep your project.';\r\n  //   });\r\n  // };\r\n\r\n});","import app from './modules/main'\r\n\r\n app.directive('toolsMenu', function() {\r\n    return {\r\n      restrict: 'E',\r\n      link: function(scope, element, attrs){\r\n        var tButton = document.getElementById(\"tools-button\");\r\n        var dMenu = document.getElementById(\"drop-down-menu\");\r\n\r\n        var toolsButton = angular.element(tButton);\r\n        // var dropMenu = angular.element(dMenu);\r\n        var dropMenu = $(\"#drop-down-menu\");\r\n        var active = false;\r\n        var clickPermission = true;\r\n        dropMenu.attr('tabindex',-1);\r\n\r\n        dropMenu.children().on('click', function () {\r\n          active = !active;\r\n        });\r\n\r\n\r\n\r\n        toolsButton.on('click', function (event) {\r\n          if (clickPermission)\r\n          {\r\n            clickPermission = false;\r\n            setTimeout(function () {\r\n              clickPermission = true;\r\n            },200);\r\n            event.preventDefault();\r\n            active = !active;\r\n            if(active)\r\n            {\r\n\r\n              dropMenu.removeClass('not-active');\r\n              dropMenu.addClass('active');\r\n              dropMenu.focus();\r\n             }\r\n            else\r\n            {\r\n\r\n            }\r\n          }\r\n          else\r\n          {\r\n            console.log(\"doubleClick\");\r\n          }\r\n          \r\n        });\r\n\r\n        dropMenu.focusout(function (event) {\r\n          if (clickPermission)\r\n          { \r\n              clickPermission = false;\r\n              setTimeout(function () {\r\n                clickPermission = true;\r\n              },200);\r\n              event.preventDefault();\r\n              active = !active;\r\n              dropMenu.addClass('not-active');\r\n              setTimeout(function () {\r\n                dropMenu.removeClass('active');\r\n                }, 200);\r\n          }\r\n          else\r\n          {\r\n            console.log(\"doubleClick\");\r\n          }\r\n          \r\n        });\r\n\r\n\r\n\r\n      }\r\n    };\r\n\r\n  });","import app from './modules/main'\r\n\r\napp.controller('userProfileCtrl', function($scope, $rootScope, authService) {\r\n\t// Begin getting Session\r\n\t$scope.session = \"\";\r\n\t$scope.account = {};\r\n\r\n\t$scope.setAccount = function (account)\r\n\t{\r\n\t\t$scope.account = account;\r\n\t};\r\n\r\n\tauthService.getSession().then(function (result) {\r\n\t\t$scope.session = result;\r\n\t\tconsole.log(\"session check\");\r\n\t\treturn authService.checkSession(result);\r\n\t}).then(function(result){\r\n\t\tconsole.log(\"fetch account\");\r\n\t\treturn authService.fetchAccount(result);\r\n\t}).then(function(result) {\r\n\t\t$scope.setAccount(result);\r\n\t\t// $scope.$apply();\r\n\t\t// console.log('apply');\r\n\t\t$rootScope.$broadcast('getProjects', $scope.session);\r\n\t\t$rootScope.$broadcast('setSession', $scope.session);\r\n\t\t\r\n\t});\r\n\t\r\n});","// User Profile \r\nimport app from \"./modules/main\"\r\n\r\napp.directive('userProfile', function () {\r\n    return {\r\n      restrict: 'E',\r\n      templateUrl: './js/modules/User/userProfile.tmpl.html',\r\n       scope: {\r\n        \r\n      },\r\n      controller: function ($scope) {\r\n      \r\n      }\r\n\r\n    }\r\n  });"]}