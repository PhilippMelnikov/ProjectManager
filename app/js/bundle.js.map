{"version":3,"sources":["main.js","ProjectList/projectListCtrl.js","Services/authService.js","Services/finalTaskListService.js","Services/loadingScreenService.js","Services/projectService.js","Services/taskService.js","TaskList/taskListCtrl.js","TaskList/taskListDirective.js","toolBar/searchBar.js","toolBar/toolbarCtrl.js","toolBar/toolsMenu.js","User/userProfileCtrl.js","User/userProfileDirective.js"],"names":["app","angular","module","config","$mdThemingProvider","$httpProvider","customPrimary","definePalette","theme","primaryPalette","accentPalette","exports","controller","$scope","$rootScope","$mdDialog","projectService","authService","loadingScreenService","projects","setProjects","status","customFullscreen","newTitle","$on","event","mySession","getCurrentSession","getUserProjects","then","result","getProjects","setCurrentProjectId","id","console","log","hide","show","editProject","deleteProject","$apply","projectId","target","projectListElements","document","getElementsByClassName","element","removeClass","addClass","$broadcast","showAddProjectDialog","ev","confirm","prompt","clickOutsideToClose","title","textContent","placeholder","ariaLabel","initialValue","targetEvent","ok","cancel","createProject","service","$http","$cookies","session","getSession","Promise","resolve","reject","get","post","response","put","data","checkSession","string","url","method","withCredentials","params","fetchAccount","account","Account","err","sortByDateAsc","obj1","obj2","date","sortByDateDesc","formatDate","userDate","Date","yr","getFullYear","month","getMonth","day","getDate","newDate","getDayOfWeek","now","moment","myDate","isSame","add","formTaskList","tasks","days","key","length","Object","Task","created_at","push","flag","taskListKey","sort","i","dayOfWeek","format","$","projectList","Project","headers","currentProjectId","project_id","getCurrentProjectId","addProject","unshift","newObj","map","object","addTask","currentProject","fetchTasks","paging_size","paging_offset","fetchTask","taskId","createTask","description","updateTask","deleteTask","task_id","taskService","finalTaskListService","myTask","finalTaskList","setTaskList","currentSession","project","setCurrentProject","getCurrentProject","formListForShow","task","showAddTaskDialog","DialogController","templateUrl","parent","body","fullscreen","text","answer","directive","restrict","scope","link","attrs","searchButton","searchBar","active","clickPermission","activateDisactivateSearchBar","setTimeout","preventDefault","find","focus","val","on","focusout","newProjectTitle","showEditProjectDialog","confirmDelete","showDeleteProjectDialog","tButton","getElementById","dMenu","toolsButton","dropMenu","attr","setAccount"],"mappings":"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","file":"bundle.js","sourcesContent":["var app = angular.module('ProjectManagerApp', ['ngMaterial', 'ngMessages', 'ngCookies']);\r\n\r\napp.config(function ($mdThemingProvider, $httpProvider) {\r\n\r\n   var customPrimary = {\r\n        '50': '#b6b6cd',\r\n        '100': '#a7a7c3',\r\n        '200': '#9898b8',\r\n        '300': '#8989ae',\r\n        '400': '#7a7aa3',\r\n        '500': '#6b6b99',\r\n        '600': '#60608b',\r\n        '700': '#55557c',\r\n        '800': '#4b4b6d',\r\n        '900': '#40405e',\r\n        'A100': '#c6c6d7',\r\n        'A200': '#d5d5e2',\r\n        'A400': '#e4e4ec',\r\n        'A700': '#36364e'\r\n    };\r\n    $mdThemingProvider.definePalette('customPrimary', customPrimary);\r\n\r\n    $mdThemingProvider.theme('default')\r\n      .primaryPalette('customPrimary')\r\n      .accentPalette('green');\r\n\r\n  // $httpProvider.defaults.useXDomain = true;\r\n  // $httpProvider.defaults.withCredentials = true;\r\n  // delete $httpProvider.defaults.headers.common[\"X-Requested-With\"];\r\n  // $httpProvider.defaults.headers.common[\"Accept\"] = \"application/json\";\r\n  // $httpProvider.defaults.headers.common[\"Content-Type\"] = \"application/json\";\r\n\r\n  });\r\n\r\nmodule.exports = app;","import app from './modules/main'\r\n\r\n// Project List\r\napp.controller('ProjectListCtrl', function($scope, $rootScope, $mdDialog, projectService, authService, loadingScreenService) {\r\n  // data\r\n  // $scope.projects = projectService.getProjects();\r\n\t$scope.projects = {\r\n    projects: [],\r\n    setProjects: function (projects) {\r\n      this.projects = projects;\r\n    }\r\n  };\r\n  $scope.status = '  ';\r\n  $scope.customFullscreen = false;\r\n  $scope.newTitle = \"\";\r\n\r\n  $scope.$on('getProjects', function (event) {\r\n    var mySession = authService.getCurrentSession();\r\n    projectService.getUserProjects(mySession)\r\n    .then(function(result){\r\n      $scope.projects.setProjects(projectService.getProjects());\r\n      $scope.setCurrentProjectId($scope.projects.projects[0].id);\r\n      console.log($scope.projects.projects[0]);\r\n      loadingScreenService.hide();\r\n      // $('.loading-screen').addClass('hidden');\r\n    });\r\n  });\r\n\r\n   $scope.$on('editProject', function (event, newTitle) {\r\n    loadingScreenService.show();\r\n    projectService.editProject(authService.getCurrentSession(), newTitle)\r\n    .then(function (result) {\r\n      getProjects ();\r\n    });\r\n   });\r\n\r\n   $scope.$on('deleteProject', function (event) {\r\n    loadingScreenService.show();\r\n    projectService.deleteProject(authService.getCurrentSession())\r\n    .then(function (result) {\r\n      getProjects ();\r\n    });\r\n   });\r\n\r\n  function getProjects (){\r\n\r\n    projectService.getUserProjects(authService.getCurrentSession())\r\n    .then(function(result){\r\n\r\n      var projects = projectService.getProjects();\r\n\r\n      $scope.$apply(function () {\r\n\r\n      $scope.projects.setProjects(projects);\r\n      loadingScreenService.hide();\r\n    });\r\n       $scope.$apply();\r\n      console.log(\"new Projects\",$scope.projects.projects);\r\n      // $scope.$apply();\r\n    });\r\n\r\n  }\r\n  // Get projects\r\n  $scope.setCurrentProjectId = function (event,projectId) {\r\n    console.log(\"setCurrentProject\");\r\n    if(event.target)\r\n    {\r\n      var projectListElements = document.getElementsByClassName(\"project-list-item\");\r\n      angular.element(projectListElements).removeClass(\"current-project\");\r\n      angular.element(event.target).addClass(\"current-project\");\r\n    }\r\n    projectService.setCurrentProjectId(projectId);\r\n    $rootScope.$broadcast('setTaskList', projectId);\r\n    // $rootScope.$broadcast('switchProject', project);\r\n  };\r\n// end fake data\r\n\r\n   $scope.showAddProjectDialog = function(ev) {\r\n    // Appending dialog to document.body to cover sidenav in docs app\r\n    var confirm = $mdDialog.prompt()\r\n      .clickOutsideToClose(true)\r\n      .title('What would you name your brand new project?')\r\n      .textContent('Bowser is a common name.')\r\n      .placeholder('Project name')\r\n      .ariaLabel('Project name')\r\n      .initialValue('Bowser')\r\n      .targetEvent(ev)\r\n      .ok('Okay!')\r\n      .cancel('Cancel');\r\n\r\n    $mdDialog.show(confirm).then(function(result) {\r\n      loadingScreenService.show();\r\n      projectService.createProject(authService.getCurrentSession(), result).then(function(result){\r\n\r\n        $rootScope.$broadcast('getProjects');\r\n      });\r\n    }, function() {\r\n      console.log(\"cancel\");\r\n      $scope.status = 'Adding new project canceled.';\r\n    });\r\n  };\r\n\r\n \r\n\r\n\r\n} );","import app from './modules/main'\r\n\r\napp.service('authService', function($http, $cookies) {\r\n\r\n\tvar session = \"\";\r\n\r\n\tvar getCurrentSession = function () {\r\n\t\treturn session;\r\n\t};\r\n\r\n\t\r\n\tvar getSession = function () {\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\tsession = $cookies.get('session');\r\n\t\t\tif(session)\r\n\t\t\t{\r\n\t\t\t\tconsole.log('Nice Cookies!');\r\n\t\t\t\tconsole.log(session);\r\n\t\t\t\tresolve(session);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$http.post('https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/signup')\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t        \t$cookies.put('session', response.data.session);\r\n\t\t        \tsession = response.data.session;\r\n\t\t        \tresolve(session);\r\n\t\t    \t\t})\r\n\t\t    \t\t.then(function(){\r\n\t\t    \t\t\tconsole.log('Failed to get session');\r\n\t\t    \t\t\treject('Failed to get session');\r\n\t\t    \t\t});\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tvar checkSession = function (session) {\r\n\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\tvar string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/session';\r\n\t\t\t$http({\r\n\t\t\t\turl: string,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\twithCredentials: false,\r\n\t\t\t\tparams: {session: session}\r\n\t\t\t})\t\t\t\t\r\n\t\t\t.then(function(response){\r\n\t\t\t\tconsole.log('check result', response)\r\n\t\t\t\tif (response.status == 200) \r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log('Session passed Checking');\r\n\t\t\t\t\tresolve(session);\r\n\t\t\t\t}\r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log('Session check failed');\r\n\t\t\t\t\treject('Session check failed');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tvar fetchAccount = function(session) {\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\tconsole.log('session', session)\r\n\t\t\tvar account = {};\r\n\t\t\tvar string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/account';\r\n\t\t\t$http({\r\n\t\t\t\turl: string,\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tparams: {session: session}\r\n\t\t\t}).then(function(response){\r\n\t\t\t\taccount = response.data.Account;\r\n\t\t\t\tresolve(account);\r\n\t\t\t},function(err){\r\n\t\t\t\tconsole.log(\"Failed to fetch an account\")\r\n\t\t\t\treject(err);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t};  \r\n\t\r\n\r\n\treturn {\r\n\t\tgetSession: getSession,\r\n\t\tgetCurrentSession: getCurrentSession,\r\n\t\tcheckSession: checkSession,\r\n\t\tfetchAccount: fetchAccount\r\n\r\n\t};\r\n});","import app from './modules/main'\r\n\r\napp.service('finalTaskListService', function() {\r\n\r\n\r\n  var sortByDateAsc = function (obj1, obj2) {\r\n\r\n    if (obj1.date > obj2.date) return 1;\r\n    if (obj1.date < obj2.date) return -1;\r\n    return 0;\r\n\r\n  };\r\n\r\n  var sortByDateDesc = function (obj1, obj2) {\r\n\r\n    if (obj1.date > obj2.date) return -1;\r\n    if (obj1.date < obj2.date) return 1;\r\n    return 0;\r\n\r\n  };\r\n  var formatDate = function (userDate) {\r\n    var date    = new Date(userDate),\r\n    yr      = date.getFullYear(),\r\n    month   = date.getMonth() < 10 ? '0' + date.getMonth() : date.getMonth(),\r\n    day     = date.getDate()  < 10 ? '0' + date.getDate()  : date.getDate(),\r\n    newDate = day + '.' + month + '.' + yr;\r\n    return newDate;\r\n  };\r\n\r\n  var getDayOfWeek = function (date) {\r\n    var string = \"\";\r\n    var now = moment();\r\n    var myDate = moment(date,\"YYYY-DD-MM +-HH:mm:ss\");\r\n\r\n    if (myDate.isSame(now,'day'))\r\n    {\r\n      string = \"Today\";\r\n      return string;\r\n    }\r\n    if (myDate.isSame(now.add(1, 'days'),'day'))\r\n    {\r\n      string = \"Tomorrow\";\r\n      return string;\r\n    }\r\n\r\n    var day = myDate.day();\r\n\r\n\r\n    switch (day) {\r\n      case 0:\r\n      string = \"Sunday\";\r\n      break;\r\n      case 1:\r\n      string = \"Monday\";\r\n      break;\r\n      case 2:\r\n      string = \"Tuesday\";\r\n      break;\r\n      case 3:\r\n      string = \"Wednesday\";\r\n      break;\r\n      case 4:\r\n      string = \"Thursday\";\r\n      break;\r\n      case 5:\r\n      string = \"Friday\";\r\n      break;\r\n      case 6:\r\n      string = \"Saturday\";\r\n      break;\r\n      default:\r\n      string = 'Потом' ;\r\n    }\r\n    return string;\r\n\r\n  };\r\n\r\n  // var finalTaskList = [];\r\n  var formTaskList = function (tasks) { // sorting based on date\r\n    \r\n    var days = [];\r\n    console.log('formTaskList');\r\n\r\n    for (var key = 0; key<tasks.length; key++) \r\n    {\r\n\r\n      if (days.length<1)\r\n      {\r\n        var day = new Object();\r\n        day.date = tasks[key].Task.created_at;\r\n        day.tasks = [tasks[key].Task];\r\n        days.push(day);\r\n      }\r\n      else\r\n      {\r\n        var flag = false;\r\n        for (var taskListKey = 0; taskListKey<days.length; taskListKey++)\r\n        {\r\n          if(moment(days[taskListKey].date).isSame(moment(tasks[key].Task.created_at),'day'))\r\n          {\r\n            days[taskListKey].tasks.push(tasks[key].Task);\r\n            flag = true;\r\n          }\r\n        }\r\n        if(flag)\r\n        {\r\n          continue;\r\n        }\r\n        var day = new Object();\r\n        day.date = tasks[key].Task.created_at;\r\n        day.tasks = [tasks[key].Task];\r\n\r\n        days.push(day);\r\n\r\n      }\r\n    }\r\n    days.sort(sortByDateAsc);\r\n    for (var i = 0; i < days.length; i++)\r\n    {\r\n      days[i].dayOfWeek = getDayOfWeek(days[i].date);\r\n      days[i].date = moment(days[i].date,\"YYYY-DD-MM +-HH:mm:ss\").format(\"DD.MM.YYYY\");\r\n    }\r\n\r\n      // finalTaskList = taskList;\r\n      if(days[0])\r\n      console.log(\"final list\", days[0].tasks[0].title);\r\n      return days;\r\n\r\n    };\r\n\r\n    return {\r\n      formTaskList: formTaskList\r\n    };\r\n  } )","import app from './modules/main'\r\n\r\napp.service('loadingScreenService', function() {\r\n\t\tvar show = function () {\r\n\t\t\t$('body').addClass('unscrollable');\r\n\t\t\t$('.loading-screen').removeClass('hidden');\r\n\t\t};\r\n\r\n\t\tvar hide = function () {\r\n\t\t\t$('body').removeClass('unscrollable');\r\n\t\t\t$('.loading-screen').addClass('hidden');\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tshow: show,\r\n\t\t\thide: hide\r\n\t\t}\r\n\t}\r\n)","import app from './modules/main'\r\n\r\napp.service('projectService', function($http) {\r\n\r\n  var projectList = [];\r\n\r\n  // var createProject = function (name)\r\n  // {\r\n  //   return{\r\n  //     name: name,\r\n  //     tasks: [],\r\n  //     tasksQuantity: 0,\r\n  //     tasksIdCount: 0  \r\n  //   };\r\n  // }\r\n\r\n  var createProject = function (session, title)\r\n  {\r\n    console.log(\"session:\", session, \"title:\", title);\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects/project';\r\n      $http({\r\n        url: string,\r\n        method: 'POST',\r\n        data: {session: session, Project: {title: title}},\r\n        headers: {'Content-Type': 'application/json'}\r\n      })        \r\n      .then(function(response){\r\n        console.log('check result', response)\r\n        if (response.status == 201) \r\n        {\r\n          console.log('Project created');\r\n          resolve(\"success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Project creation failed', response.status);\r\n          reject('Project creation failed');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  var editProject = function (session, title)\r\n  {\r\n    console.log(\"session:\", session, \"title:\", title);\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects/project';\r\n      $http({\r\n        url: string,\r\n        method: 'POST',\r\n        data: {session: session, Project: {id: currentProjectId, title: title}},\r\n        headers: {'Content-Type': 'application/json'}\r\n      })        \r\n      .then(function(response){\r\n        console.log('check result', response)\r\n        if (response.status == 200) \r\n        {\r\n          console.log('Project has been updated');\r\n          resolve(\"success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Project update failed', response.status);\r\n          reject('Project update failed');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n   var deleteProject = function (session)\r\n  {\r\n    console.log(\"Delete project:\", currentProjectId);\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects/project';\r\n      $http({\r\n        url: string,\r\n        method: 'DELETE',\r\n        params: {session: session, project_id: currentProjectId}\r\n      })        \r\n      .then(function(response){\r\n        console.log('check result', response)\r\n        if (response.status == 200) \r\n        {\r\n          console.log('Project has been deleted');\r\n          resolve(\"success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Project removal failed', response.status);\r\n          reject('Project removal failed');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  var currentProjectId = \"\";\r\n\r\n\r\n  var setCurrentProjectId = function (id)\r\n  {\r\n    currentProjectId = id;\r\n  }\r\n\r\n  var getCurrentProjectId = function ()\r\n  {\r\n    return currentProjectId;\r\n  }\r\n\r\n  var addProject = function(title) {\r\n\r\n      projectList.unshift({newObj});\r\n  };\r\n\r\n  var getProjects = function(){\r\n      return projectList;\r\n  };\r\n\r\n  var getUserProjects = function (session) {\r\n    return new Promise(function(resolve, reject){\r\n      var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/projects';\r\n      $http({\r\n        url: string,\r\n        method: \"GET\",\r\n        params: {session: session}\r\n      })        \r\n      .then(function(response){\r\n        console.log('Initial projects', response)\r\n        if (response.status == 200) \r\n        {\r\n          console.log('Projects fetched successfully');\r\n          projectList = response.data.projects.map(function (object) {\r\n            return object.Project;\r\n          });\r\n          resolve(\"Success\");\r\n        }\r\n        else \r\n        {\r\n          console.log('Projects fetching failed');\r\n          reject('Projects fetching');\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n\r\n  return {\r\n    getUserProjects: getUserProjects,\r\n    createProject: createProject,\r\n    editProject: editProject,\r\n    deleteProject: deleteProject,\r\n    addProject: addProject,\r\n    getProjects: getProjects,\r\n    setCurrentProjectId: setCurrentProjectId,\r\n    getCurrentProjectId: getCurrentProjectId\r\n\r\n\r\n  };\r\n\r\n});","import app from './modules/main'\r\n\r\napp.service('taskService', function($http) {\r\n\r\n  // delete $http.defaults.headers.common['X-Requested-With'];\r\n\r\n  var addTask = function(currentProject, newObj) {\r\n    currentProject.tasks.push(newObj);\r\n  };\r\n\r\n  var fetchTasks = function(session, projectId){\r\n    console.log(\"projectId\", projectId);\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks';\r\n        $http({\r\n          url: string,\r\n          method: \"GET\",\r\n          params: {session: session, project_id: projectId, paging_size: 20, paging_offset: 10}\r\n        })        \r\n        .then(function(response){\r\n          console.log('tasks for project', response.data.tasks)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Tasks Fetched', response.data);\r\n            resolve(response.data.tasks);\r\n          }\r\n          else \r\n          {\r\n            console.log('Tasks fetching failed');\r\n            reject('Tasks fetchingfailed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  var fetchTask = function(taskId, session){\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        $http({\r\n          url: string,\r\n          method: \"GET\",\r\n          params: {project_id: projectId, paging_size: 20, paging_offset: 10}\r\n        })        \r\n        .then(function(response){\r\n          console.log('Fetched task', response.data.Task)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Task Fetched');\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task Fetching failed');\r\n            reject('Task Fetching failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  var createTask = function(session, projectId, title, description){\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        console.log(session);\r\n      $http({\r\n        url: string,\r\n        method: 'POST',\r\n        data: {session: session, Project: {id: projectId}, Task: {title: title, description: description}},\r\n        headers: {'Content-Type': 'application/json'}\r\n      })       \r\n        .then(function(response){\r\n          console.log('Created task', response.data)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Task created',response.data);\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task creation failed');\r\n            reject('Task creation failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  var updateTask = function(session, taskId, title, description){\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        $http({\r\n          url: string,\r\n          method: \"POST\",\r\n          params: {Task: {id: taskId, title: title, description: description}},\r\n          headers: { 'Content-Type': 'application/json' }    \r\n        })        \r\n        .then(function(response){\r\n          console.log('Updated task', response.data)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Updated created');\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task update failed');\r\n            reject('Task update failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n   var deleteTask = function(session, taskId) {\r\n\r\n      return new Promise(function(resolve, reject){\r\n        var string = 'https://private-anon-ba926edde6-testfrontend1.apiary-proxy.com/tasks/task';\r\n        $http({\r\n          url: string,\r\n          method: \"DELETE\",\r\n          params: {session: session, task_id: taskId},\r\n        })        \r\n        .then(function(response){\r\n          console.log('Updated task', response.data)\r\n          if (response.status == 200) \r\n          {\r\n            console.log('Updated created');\r\n            resolve(response.data.Task);\r\n          }\r\n          else \r\n          {\r\n            console.log('Task update failed');\r\n            reject('Task update failed');\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  return {\r\n    fetchTasks: fetchTasks,\r\n    fetchTask: fetchTask,\r\n    createTask: createTask,\r\n    updateTask: updateTask,\r\n    deleteTask: deleteTask\r\n\r\n\r\n  };\r\n\r\n});","import app from './modules/main'\r\n\r\napp.controller('TaskListCtrl', function($scope, $mdDialog, projectService, taskService, finalTaskListService, authService) {\r\n  $scope.myTask = {\r\n    title: \"\",\r\n    description: \"\"\r\n  }; \r\n  \r\n  // $scope.taskList = {};\r\n  // var currentProjectId = projectService.getCurrentProjectId();\r\n  $scope.finalTaskList = [];\r\n\r\n\r\n  $scope.$on('setTaskList', function (event, projectId) {\r\n     setTaskList(authService.getCurrentSession(), projectId);\r\n  })\r\n\r\n   function setTaskList (currentSession, projectId) {\r\n    taskService.fetchTasks(authService.getCurrentSession(), projectId).then(function(result){\r\n       console.log(result);\r\n    $scope.finalTaskList = finalTaskListService.formTaskList(result);\r\n    console.log($scope.finalTaskList);\r\n    $scope.$apply();\r\n    });\r\n\r\n   };\r\n   \r\n\r\n  $scope.$on('switchProject', function (event, project) {\r\n    projectService.setCurrentProject(project);\r\n    currentProject = projectService.getCurrentProject();\r\n    formListForShow();\r\n  });\r\n\r\n\r\n    function formListForShow ()\r\n    {\r\n      console.log(\"formListForShow\");\r\n       $scope.finalTaskList = finalTaskListService.formTaskList(currentProject);\r\n    }\r\n\r\n    // push task into current project\r\n    function addTask (task)\r\n    {\r\n      taskService.createTask(authService.getCurrentSession(),projectService.getCurrentProjectId(), task)\r\n      .then(function(result){\r\n        taskService.fetchTasks(authService.getCurrentSession(), projectService.getCurrentProjectId()).then(function(result){\r\n        $scope.finalTaskList = finalTaskListService.formTaskList(result);\r\n          });\r\n      });\r\n       \r\n    }\r\n\r\n    $scope.showAddTaskDialog = function(ev) {\r\n    $mdDialog.show({\r\n      controller: DialogController,\r\n      templateUrl: 'js/modules/TaskList/add.task.dialog.html',\r\n      parent: angular.element(document.body),\r\n      targetEvent: ev,\r\n      clickOutsideToClose:true,\r\n      fullscreen: $scope.customFullscreen \r\n    })\r\n    .then(function(date, text) {\r\n      $scope.status = 'You said the information was \"' + '\".';\r\n\r\n    }, function() {\r\n      $scope.status = 'You cancelled the dialog.';\r\n    });\r\n  };  \r\n\r\n    function DialogController($scope, $mdDialog, taskService, projectService) {\r\n    $scope.hide = function() {\r\n      $mdDialog.hide();\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n      $mdDialog.cancel();\r\n    };\r\n    $scope.answer = function(title, description) {\r\n\r\n       var task = {\r\n        title: title,\r\n        description: description\r\n      };\r\n      addTask(task);\r\n      $mdDialog.hide(\"answer\");\r\n\r\n    };\r\n  }\r\n\r\n} );\r\n","import app from './modules/main'\r\n\r\n// Task List\r\napp.directive('taskList', function () {\r\n    return {\r\n      restrict: 'EC',\r\n      templateUrl: './js/modules/TaskList/taskList.html',\r\n      scope: {\r\n        \t\r\n      },\r\n      controller: function ($scope) {\r\n      \r\n      }\r\n    }\r\n  });","import app from './modules/main'\r\n\r\n// Seach Bar\r\n  app.directive('searchBar', function() {\r\n    return {\r\n      restrict: 'E',\r\n      link: function(scope, element, attrs){\r\n\r\n        var searchButton = $(\"#search-button\");;\r\n        var searchBar = $(\"#search-bar\");\r\n        var active = false;\r\n        var clickPermission = true;\r\n\r\n        function activateDisactivateSearchBar() {\r\n          if (clickPermission)\r\n          {\r\n              clickPermission = false;\r\n              setTimeout(function () {\r\n                clickPermission = true;\r\n              },200);\r\n              event.preventDefault();\r\n              active = !active;\r\n            if(active)\r\n            {\r\n              searchBar.removeClass('not-active');\r\n              searchBar.addClass('active');\r\n              searchBar.find(\"input\").focus();\r\n             }\r\n            else\r\n            {\r\n              searchBar.addClass('not-active');\r\n              setTimeout(function () {\r\n              searchBar.removeClass('active');\r\n              searchBar.find(\"input\").val(\"\");\r\n              }, 200);\r\n            }\r\n          }\r\n          else {console.log(\"doubleClick\");}\r\n        }\r\n\r\n        searchButton.on('click', function () {\r\n          activateDisactivateSearchBar()\r\n        });\r\n\r\n         searchBar.focusout(function (event) {\r\n          activateDisactivateSearchBar()\r\n         });\r\n      }\r\n    };\r\n\r\n  });","import app from './modules/main'\r\n\r\n// Project List\r\napp.controller('toolbarCtrl', function($scope, $rootScope, $mdDialog) {\r\n\r\n\t$scope.newProjectTitle = \"\";\r\n\r\n\tvar editProject = function (newTitle) {\r\n\t\t$rootScope.$broadcast('editProject', newTitle);\r\n\t};\r\n\r\n\tvar deleteProject = function () {\r\n\t\tconsole.log(\"deleteProject\");\r\n\t\t$rootScope.$broadcast('deleteProject');\r\n\t};\r\n\r\n\t$scope.showEditProjectDialog = function(ev) {\r\n    $mdDialog.show({\r\n      controller: DialogController,\r\n      templateUrl: 'js/modules/ProjectList/edit.project.dialog.html',\r\n      parent: angular.element(document.body),\r\n      targetEvent: ev,\r\n      clickOutsideToClose:true,\r\n      fullscreen: $scope.customFullscreen \r\n    })\r\n    .then(function(date, text) {\r\n      $scope.status = 'You said the information was \"' + '\".';\r\n\r\n    }, function() {\r\n      $scope.status = 'You cancelled the dialog.';\r\n    });\r\n  };  \r\n\r\n    function DialogController($scope, $mdDialog) {\r\n    $scope.hide = function() {\r\n      $mdDialog.hide();\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n      $mdDialog.cancel();\r\n    };\r\n    $scope.answer = function(newTitle) {\r\n\r\n      editProject(newTitle);\r\n      $mdDialog.hide(\"answer\");\r\n\r\n    };\r\n\r\n    $scope.confirmDelete = function() {\r\n      deleteProject();\r\n      $mdDialog.hide(\"answer\");\r\n    };\r\n\r\n  }\r\n\r\n  $scope.showDeleteProjectDialog = function(ev) {\r\n    $mdDialog.show({\r\n      controller: DialogController,\r\n      templateUrl: 'js/modules/ProjectList/delete.project.dialog.html',\r\n      parent: angular.element(document.body),\r\n      targetEvent: ev,\r\n      clickOutsideToClose: true,\r\n      fullscreen: $scope.customFullscreen \r\n    })\r\n    .then(function(date, text) {\r\n      $scope.status = 'You said the information was \"' + '\".';\r\n\r\n    }, function() {\r\n      $scope.status = 'You cancelled the dialog.';\r\n    });\r\n  };\r\n\r\n  // $scope.showDeleteConfirm = function(ev) {\r\n  //   // Appending dialog to document.body to cover sidenav in docs app\r\n  //   var confirm = $mdDialog.confirm()\r\n  //         .title('You are trying to delete your project?')\r\n  //         .textContent('Your project will be comletely deleted.')\r\n  //         .ariaLabel('Delete project')\r\n  //         .targetEvent(ev)\r\n  //         .ok('Please do it!')\r\n  //         .cancel('No. Why would i do that?');\r\n\r\n  //   $mdDialog.show(confirm).then(function() {\r\n  //   \tdeleteProject();\r\n  //     $scope.status = 'You decided to get rid of your project.';\r\n  //   }, function() {\r\n  //     $scope.status = 'You decided to keep your project.';\r\n  //   });\r\n  // };\r\n\r\n});","import app from './modules/main'\r\n\r\n app.directive('toolsMenu', function() {\r\n    return {\r\n      restrict: 'E',\r\n      link: function(scope, element, attrs){\r\n        var tButton = document.getElementById(\"tools-button\");\r\n        var dMenu = document.getElementById(\"drop-down-menu\");\r\n\r\n        var toolsButton = angular.element(tButton);\r\n        // var dropMenu = angular.element(dMenu);\r\n        var dropMenu = $(\"#drop-down-menu\");\r\n        var active = false;\r\n        var clickPermission = true;\r\n        dropMenu.attr('tabindex',-1);\r\n\r\n        toolsButton.on('click', function (event) {\r\n          if (clickPermission)\r\n          {\r\n            clickPermission = false;\r\n            setTimeout(function () {\r\n              clickPermission = true;\r\n            },200);\r\n            event.preventDefault();\r\n            active = !active;\r\n            if(active)\r\n            {\r\n\r\n              dropMenu.removeClass('not-active');\r\n              dropMenu.addClass('active');\r\n              dropMenu.focus();\r\n             }\r\n            else\r\n            {\r\n\r\n            }\r\n          }\r\n          else\r\n          {\r\n            console.log(\"doubleClick\");\r\n          }\r\n          \r\n        });\r\n\r\n        dropMenu.focusout(function (event) {\r\n          if (clickPermission)\r\n          { \r\n              clickPermission = false;\r\n              setTimeout(function () {\r\n                clickPermission = true;\r\n              },200);\r\n              event.preventDefault();\r\n              active = !active;\r\n              dropMenu.addClass('not-active');\r\n              setTimeout(function () {\r\n                dropMenu.removeClass('active');\r\n                }, 200);\r\n          }\r\n          else\r\n          {\r\n            console.log(\"doubleClick\");\r\n          }\r\n          \r\n        });\r\n\r\n      }\r\n    };\r\n\r\n  });","import app from './modules/main'\r\n\r\napp.controller('userProfileCtrl', function($scope, $rootScope, authService) {\r\n\t// Begin getting Session\r\n\t$scope.session = \"\";\r\n\t$scope.account = {};\r\n\r\n\t$scope.setAccount = function (account)\r\n\t{\r\n\t\t$scope.account = account;\r\n\t};\r\n\r\n\tauthService.getSession().then(function (result) {\r\n\t\t$scope.session = result;\r\n\t\tconsole.log(\"session check\");\r\n\t\treturn authService.checkSession(result);\r\n\t}).then(function(result){\r\n\t\tconsole.log(\"fetch account\");\r\n\t\treturn authService.fetchAccount(result);\r\n\t}).then(function(result) {\r\n\t\t$scope.setAccount(result);\r\n\t\t// $scope.$apply();\r\n\t\t// console.log('apply');\r\n\t\t$rootScope.$broadcast('getProjects', $scope.session);\r\n\t\t$rootScope.$broadcast('setSession', $scope.session);\r\n\t\t\r\n\t});\r\n\t\r\n});","// User Profile \r\nimport app from \"./modules/main\"\r\n\r\napp.directive('userProfile', function () {\r\n    return {\r\n      restrict: 'E',\r\n      templateUrl: './js/modules/User/userProfile.tmpl.html',\r\n       scope: {\r\n        \r\n      },\r\n      controller: function ($scope) {\r\n      \r\n      }\r\n\r\n    }\r\n  });"]}